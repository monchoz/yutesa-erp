<h2>Nueva Orden</h2>

<form (ngSubmit)="onSubmit()">
  <div class="form-group row">
    <label for="customer" class="col-sm-2 col-form-label">Cliente:</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" id="customer" placeholder="Cliente" [(ngModel)]="order.customer" name="customer" required>
    </div>
  </div>
  <div class="form-group row">
    <label for="date" class="col-sm-2 col-form-label">Fecha:</label>
    <div class="col-sm-10">
      <input type="date" class="form-control" id="date" placeholder="Fecha" [(ngModel)]="order.date" name="date" required>
    </div>
  </div>
  <div class="form-group row">
    <label for="products" class="col-sm-2 col-form-label">Productos:</label>
    <div class="col-sm-10">
      <div class="row">
        <div class="col-sm-3">
          <ng-select [items]="products | async"
            name="selectedProduct"
            placeholder="Seleccionar"
            [(ngModel)]="selectedProduct">
          </ng-select>
        </div>
        <div class="col-sm-2">
          <input type="number" class="form-control" id="quantity" placeholder="Cantidad" [(ngModel)]="product.quantity" name="quantity" required>
        </div>
        <div class="col-sm-2">
          <input type="number" class="form-control" id="price" placeholder="Precio" [(ngModel)]="product.price" name="price" required>
        </div>
        <div class="col-sm-2">
          <button type="button" class="btn btn-info" (click)="addProduct()">Agregar</button>
        </div>
      </div>
      <div class="row mt-3" *ngIf="order.products.length > 0">
        <table class="table">
          <thead>
            <tr>
              <th scope="col"></th>
              <th scope="col">Producto</th>
              <th scope="col" style="text-align:right">Cantidad</th>
              <th scope="col" style="text-align:right">Precio</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let product of order.products">
              <td><i class="fa fa-times remove" (click)="removeOrderProduct(product.key)"></i></td>
              <td>{{product.title}}</td>
              <td align="right">{{product.quantity}}</td>
              <td align="right">${{product.price}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="form-group row">
    <div class="col-sm-10">
      <button type="submit" class="btn btn-primary">Guardar</button>
    </div>
  </div>
</form>